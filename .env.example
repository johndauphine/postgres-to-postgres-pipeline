# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# Airflow user ID (for Docker permissions)
AIRFLOW_UID=50000

# Airflow admin credentials
_AIRFLOW_WWW_USER_USERNAME=admin
_AIRFLOW_WWW_USER_PASSWORD=admin

# =============================================================================
# DATABASE CONNECTIONS
# =============================================================================
# Format: AIRFLOW_CONN_{CONN_ID}='{conn_type}://{login}:{password}@{host}:{port}/{schema}'
# These define the Airflow connections available to DAGs

# Primary source and target connections
AIRFLOW_CONN_POSTGRES_SOURCE='postgresql://postgres:PostgresPassword123@postgres-source:5432/source_db'
AIRFLOW_CONN_POSTGRES_TARGET='postgresql://postgres:PostgresPassword123@postgres-target:5432/target_db'

# Test connections for partition testing (different databases)
AIRFLOW_CONN_POSTGRES_PARTITION_SOURCE='postgresql://postgres:PostgresPassword123@postgres-source:5432/partition_test_source'
AIRFLOW_CONN_POSTGRES_PARTITION_TARGET='postgresql://postgres:PostgresPassword123@postgres-target:5432/partition_test_target'

# =============================================================================
# DAG CONFIGURATION
# =============================================================================
# Default connection IDs used when triggering the migration DAG
# These should match the connection names defined above (without AIRFLOW_CONN_ prefix)
SOURCE_CONN_ID=postgres_source
TARGET_CONN_ID=postgres_target

# Schema settings
SOURCE_SCHEMA=public
TARGET_SCHEMA=public

# Data transfer settings
CHUNK_SIZE=100000
PARTITION_THRESHOLD=1000000
MAX_PARTITIONS=8

# =============================================================================
# AIRFLOW PARALLELISM
# =============================================================================
# Adjust based on your hardware (lower for constrained systems, higher for powerful servers)
AIRFLOW__CORE__PARALLELISM=16
AIRFLOW__CORE__MAX_ACTIVE_TASKS_PER_DAG=8
AIRFLOW__CORE__MAX_ACTIVE_RUNS_PER_DAG=1
